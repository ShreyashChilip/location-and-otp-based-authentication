{% extends 'base.html' %}
{% block title %}
  Home
{% endblock title %}
{% block home %}
  active
{% endblock home %}
{% block body %}

    <script>
      function logout() {
          // Redirect to the 'logout' route
          window.location.href = "{{ url_for('logout') }}";
      }
  </script>
  {% with messages = get_flashed_messages() %}
    {% if messages %}
      {% for msg in messages %}
      <div class="alert alert-success alert-dismissible fade show" role="alert">
        {{msg}}
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      {% endfor %}
    {% endif %}
  {% endwith %}
    

      <form method="POST">
        <div class="container my-3">
          <div class="row row-cols-1 row-cols-md-2">
            <div class="col mb-4">
              <!-- Card -->
              <div class="card">
          
                <!--Card image-->
                <div class="view overlay">
                  <img class="card-img-top" src="https://i.ibb.co/7tSCGyB/admin-control-panel-vector.jpg" alt="Card image cap">
                  <a href="#!">
                    <div class="mask rgba-white-slight"></div>
                  </a>
                </div>
          
                <!--Card content-->
                <div class="card-body">
          
                  <!--Title-->
                  <h4 class="card-title">Admin Dashboard</h4>
                  <!--Text-->
                  <p class="card-text">Manage and monitor student attendance, view reports, and oversee system settings from a centralized interface.</p>
                  <!-- Provides extra visual weight and identifies the primary action in a set of buttons -->
                  <button type="button" class="btn btn-light-blue btn-md" onclick="call('showAdmin')">View</button>
                </div>
          
              </div>
              <!-- Card -->
            </div>
            <div class="col mb-4">
              <!-- Card -->
              <div class="card">
          
                <!--Card image-->
                <div class="view overlay">
                  <img class="card-img-top" src="https://i.ibb.co/cvph8kz/student-login-icon-flat-design-229309143.webp" alt="Card image cap">
                  <a href="#!">
                    <div class="mask rgba-white-slight"></div>
                  </a>
                </div>
          
                <!--Card content-->
                <div class="card-body">
          
                  <!--Title-->
                  <h4 class="card-title">View Listed Attendance</h4>
                  <!--Text-->
                  <p class="card-text">Access personal attendance records, check upcoming classes, and view attendance history in a user-friendly interface.</p>
                  <!-- Provides extra visual weight and identifies the primary action in a set of buttons -->
                  <button type="button" class="btn btn-light-blue btn-md" onclick="call('view_attendance')">View</button>
          
                </div>
          
              </div>
              <!-- Card -->
            </div>
            <div class="col mb-4">
              <!-- Card -->
              <div class="card">
          
                <!--Card image-->
                <div class="view overlay"><img class="card-img-top" src="https://i.ibb.co/CmfTmSL/istockphoto-1167651240-612x612.jpg" alt="Card image cap">
                  <a href="#!">
                    <div class="mask rgba-white-slight"></div>
                  </a>
                </div>
          
                <!--Card content-->
                <div class="card-body">
          
                  <!--Title-->
                  <h4 class="card-title">Mark Attendance</h4>
                  <!--Text-->
                  <p class="card-text">Mark attendance for sessions, using securely generate one-time passwords (OTP) for students to verify their attendance during class, as well as location based verification, allowing two layered verification before marking the attendance.</p>
                  <!-- Provides extra visual weight and identifies the primary action in a set of buttons -->
                  <button type="button" class="btn btn-light-blue btn-md" onclick="call('markattendance')">View</button>
          
                </div>
          
              </div>
              <!-- Card -->
            </div>
           
          </div>
      </form>
    
  
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
   

<script>
function call(page) {
    fetch(`/${page}`, { method: 'GET' })
    .then(response => {
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }
        // Redirect to the response URL
        window.location.href = response.url;
    })
    .catch(error => {
        // Handle errors
        console.error('There was a problem with the fetch operation:', error);
    });
}
</script>

    {% endblock body %}